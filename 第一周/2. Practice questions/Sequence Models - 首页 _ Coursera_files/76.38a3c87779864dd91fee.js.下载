(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{"17IF":function(module,exports,e){},"4qg5":function(module,exports,e){"use strict";var t,n=_interopRequireDefault(e("iCc5")),r,a=_interopRequireDefault(e("V7oC"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _=e("VYij"),i=e("YNqN"),s=e("hTBN"),o=e("JzBE"),u,c=e("2KOH").ALL_BRANCHES,l=function(){function CourseRatings(){(0,n.default)(this,CourseRatings),this.ratingValue=_(i).find(function(e){return-1===e.value}),this.learnerAudience=_(s).find(function(e){return"ALL_LEARNERS"===e.id}),this.branchId=c,this.statsMap={},this.reviewCollectionsMap={},this.initMapsForBranchId(c)}return CourseRatings.prototype.initMapsForBranchId=function initMapsForBranchId(e){var t=this;this.statsMap[e]={},this.reviewCollectionsMap[e]={},_(s).each(function(n){var r=n.id,a={};_(i).each(function(e){a[e.value]=new o}),t.statsMap[e][r]=null,t.reviewCollectionsMap[e][r]=a})},CourseRatings.prototype.setBranchId=function setBranchId(e){this.branchId=e,this.statsMap[e]||this.initMapsForBranchId(e)},CourseRatings.prototype.setRatingValue=function setRatingValue(e){this.ratingValue=e},CourseRatings.prototype.setLearnerAudience=function setLearnerAudience(e){this.learnerAudience=e},CourseRatings.prototype.appendReviews=function appendReviews(e,t){var n=this.reviewCollection;n.appendPage(e),n.setTotalCount(t)},CourseRatings.prototype.deleteReview=function deleteReview(e){_(this.reviewCollectionsMap).each(function(t){return _(t).each(function(t){t.models=_(t.models).filter(function(t){return t.id!==e})})})},CourseRatings.prototype.setStats=function setStats(e){this.statsMap[this.branchId][this.learnerAudience.id]=e},(0,a.default)(CourseRatings,[{key:"reviewCollection",get:function get(){return this.reviewCollectionsMap[this.branchId][this.learnerAudience.id][this.ratingValue.value]}},{key:"stats",get:function get(){return this.statsMap[this.branchId][this.learnerAudience.id]}}]),CourseRatings}();module.exports=l},"5E6G":function(module,exports,e){"use strict";var t=e("Vroy").store,n=e("7cAV"),r=e("mVDR").store,a=e("lXpx"),i=e("iILo"),s=e("DH10"),o,u=new(e("f6kW"));u.registerStore(t),u.registerStore(n),u.registerStore(r),u.registerStore(i),u.registerStore(a),u.registerStore(s),module.exports=u},"70Y9":function(module,exports,e){},"7cAV":function(module,exports,e){"use strict";var t=e("VvWD"),_=e("VYij"),n=["branchPropertiesById","conflictMetadataById"],r=t({storeName:"BranchPropertiesStore",dehydrate:function dehydrate(){return _.pick.apply(_,[this].concat(n))},rehydrate:function rehydrate(e){Object.assign(this,_.pick.apply(_,[e].concat(n)))},initialize:function initialize(){this.branchPropertiesById={},this.conflictMetadataById={}},getAllBranchProperties:function getAllBranchProperties(){return this.branchPropertiesById},getAllConflictMetadata:function getAllConflictMetadata(){return this.conflictMetadataById},getBranchPropertiesById:function getBranchPropertiesById(e){return this.branchPropertiesById[e]},getConflictMetadataById:function getConflictMetadataById(e){return this.conflictMetadataById[e]},updateBranchProperties:function updateBranchProperties(e,t){this.branchPropertiesById[e]=t,this.branchPropertiesById[e].id=e},updateConflictMetadata:function updateConflictMetadata(e,t){this.conflictMetadataById[e]=t}});r.handlers={RECEIVED_BRANCHES_FOR_COURSE:function RECEIVED_BRANCHES_FOR_COURSE(e){var t=this;e.forEach(function(e){var n=e.id,r=e.properties,a=e.conflictMetadata;t.updateBranchProperties(n,r),t.updateConflictMetadata(n,a)}),this.emitChange()},RECEIVED_BRANCH_PROPERTIES:function RECEIVED_BRANCH_PROPERTIES(e){var t=e.branchId,n=e.properties;this.updateBranchProperties(t,n),this.emitChange()},SAVE_CONFLICT_METADATA_FOR_BRANCH:function SAVE_CONFLICT_METADATA_FOR_BRANCH(e){var t=e.branchId,n=e.conflictMetadata;this.updateConflictMetadata(t,n),this.emitChange()},SAVE_BRANCH:function SAVE_BRANCH(e){var t=e.branchId,n=e.conflictMetadata;this.updateConflictMetadata(t,n),this.emitChange()}},module.exports=r},"ByX+":function(module,exports,e){"use strict";var t,n=_interopRequireDefault(e("iCc5")),r,a=_interopRequireDefault(e("V7oC"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var i=e("Cw6J"),s=function(){function AuthoringCourse(e){var t=e.description,r=e.domainTypes,a=e.faqs,s=e.headerImage,o=e.id,u=e.instructorIds,c=e.isPrivate,l=e.isReal,d=e.isRestrictedMembership,h=e.isSubtitleTranslationEnabled,p=e.isVerificationEnabled,f=e.launchedAt,g=e.level,C=e.name,R=e.overridePartnerLogos,v=e.partners,m=e.partnerIds,E=e.premiumExperiences,S=e.previewUserIds,b=e.primaryLanguageCodes,A=e.promoPhoto,y=e.s3Prefix,I=e.sessionSchedule,T=e.sessionsEnabledAt,B=e.slug,N=e.subtitleLanguageCodes;(0,n.default)(this,AuthoringCourse),this.description=t,this.domainTypes=r,this.faqs=a,this.headerImage=s,this.id=o,this.isPrivate=c,this.isReal=l,this.isRestrictedMembership=d,this.isSubtitleTranslationEnabled=h,this.isVerificationEnabled=p,this.launchedAt=f,this.name=C,this.overridePartnerLogos=R,this.partners=v&&v.map(function(e){return new i(e)}),this.partnerIds=m,this.instructorIds=u,this.premiumExperiences=E,this.previewUserIds=S,this.primaryLanguageCodes=b,this.promoPhoto=A,this.s3Prefix=y,this.sessionSchedule=I,this.sessionsEnabledAt=T,this.slug=B,this.subtitleLanguageCodes=N}return AuthoringCourse.prototype.get=function get(e){return this[e]},(0,a.default)(AuthoringCourse,[{key:"universities",get:function get(){return this.partners}},{key:"isLaunched",get:function get(){return!!this.launchedAt&&this.launchedAt<=Date.now()}}]),AuthoringCourse}();module.exports=s},CBtc:function(module,exports,e){"use strict";var t,n=_interopRequireDefault(e("iCc5"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _=e("VYij"),r=e("Md22"),a=function AuthoringCourseBranch(e){var t=e.associatedSessions,a=e.branchStatus,i=e.changesDescription,s=e.courseBranchId,o=e.courseId,u=e.createdAt,c=e.id,l=e.isPrivate,d=e.listed,h=e.name;(0,n.default)(this,AuthoringCourseBranch),this.associatedSessions=_(t).mapObject(function(e){return new r(e)}),this.branchStatus=a,this.changesDescription=i,this.courseBranchId=s,this.courseId=o,this.createdAt=u,this.id=c,this.isPrivate=l,this.listed=d,this.name=h};module.exports=a},Cw6J:function(module,exports,e){"use strict";var t,n=_interopRequireDefault(e("iCc5"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var r=function Partner(e){var t=e.id,r=e.name,a=e.shortName,i=e.squareLogo;(0,n.default)(this,Partner),this.id=t,this.name=r,this.shortName=a,this.squareLogo=i};module.exports=r},"F9a/":function(module,exports,e){},GAn1:function(module,exports,e){var t=e("70Y9"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},a=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},Gg26:function(module,exports,e){"use strict";var t,n=new(e("DnuM"))("/api/courseFeedbackCounts.v1",{type:"rest"});module.exports=n},JzBE:function(module,exports,e){"use strict";var t,n=_interopRequireDefault(e("iCc5")),r,a=_interopRequireDefault(e("V7oC"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _=e("VYij"),i=e("EVkW"),s=function(){function RatingCollection(){(0,n.default)(this,RatingCollection),this.models=[],this.page=0,this.totalCount=0}return RatingCollection.prototype.isEmpty=function isEmpty(){return 0===this.models.length},RatingCollection.prototype.setTotalCount=function setTotalCount(e){this.totalCount=e},RatingCollection.prototype.appendPage=function appendPage(e){var t=this;_(e).each(function(e){var n=e.rating,r=e.timestamp,a=e.id,s=new i(n.value,n.active,e.comments.generic,r,a);t.models.push(s)}),this.page+=1},(0,a.default)(RatingCollection,[{key:"length",get:function get(){return this.models.length}},{key:"hasPendingPage",get:function get(){return this.totalCount!==this.length}}]),RatingCollection}();module.exports=s},Md22:function(module,exports,e){"use strict";var t,n=_interopRequireDefault(e("iCc5"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var r=function Session(e){var t=e.courseId,r=e.endedAt,a=e.enrollmentEndedAt,i=e.id,s=e.isPrivate,o=e.startedAt;(0,n.default)(this,Session),this.courseId=t,this.endedAt=r,this.enrollmentEndedAt=a,this.id=i,this.isPrivate=s,this.startedAt=o};module.exports=r},O27z:function(module,exports,e){"use strict";var t,n=new(e("DnuM"))("/api/courseFeedbackCommentCounts.v1",{type:"rest"});module.exports=n},OOvi:function(module,exports,e){"use strict";var t=e("Q7fu"),n=e("EVkW"),r=e("TuMe");exports.changeBranchId=function(e,t){var n=t.courseId,r=t.branchId,a=t.ratingValue,i=t.learnerAudience,s=t.reviewCollection;e.dispatch("SET_FEEDBACK_BRANCH_ID",{branchId:r}),e.executeAction(exports.getCourseReviews,{courseId:n,branchId:r,reviewCollection:s,ratingValue:a,learnerAudience:i}),e.executeAction(exports.getCourseRatingStats,{courseId:n,branchId:r,learnerAudience:i})},exports.getCourseReviews=function(e,t){var n=t.courseId,a=t.branchId,i=t.reviewCollection,s=t.ratingValue,o=t.learnerAudience;return e.dispatch("GET_REVIEWS",{reviewCollection:i}),r.getReviews(n,a,o,i.page,s.value).then(function(t){var n=t.feedbacks,r=t.totalCount;e.dispatch("RECEIVE_REVIEWS",{reviewCollection:i,feedbacks:n,totalCount:r})}).done()},exports.filterCourseReviews=function(e,t){var n=t.courseId,r=t.branchId,a=t.ratingValue,i=t.learnerAudience,s=e.getStore("CourseRatingStore");e.dispatch("FILTER_REVIEWS",{ratingValue:a});var o=s.getReviewCollection();o.isEmpty()&&e.executeAction(exports.getCourseReviews,{courseId:n,branchId:r,reviewCollection:o,ratingValue:a,learnerAudience:i})},exports.getCourseRatingStats=function(e,n){var a=n.courseId,i=n.branchId,s=n.learnerAudience,o=n.totalCount,u=n.averageRating;return r.getRatingStats(a,i,s).then(function(n){var r={};void 0!==o&&void 0!==u&&(r={totalCount:o,averageRating:u});var a=new t(n,r);e.dispatch("RECEIVE_COURSE_RATING_STATS",{courseRatingStats:a})}).done()},exports.filterCourseRatings=function(e,t){var n=t.courseId,r=t.branchId,a=t.ratingValue,i=t.learnerAudience,s=e.getStore("CourseRatingStore");e.dispatch("FILTER_RATINGS",{learnerAudience:i});var o=s.getReviewCollection(),u=s.getCourseRatingStats();o.isEmpty()&&e.executeAction(exports.getCourseReviews,{courseId:n,branchId:r,reviewCollection:o,ratingValue:a,learnerAudience:i}),u||e.executeAction(exports.getCourseRatingStats,{courseId:n,branchId:r,learnerAudience:i})},exports.receiveMyCourseRating=function(e,t){var n=t.ratingFeedback;e.dispatch("RECEIVE_MY_RATING",{ratingFeedback:n})},exports.postMyCourseRating=function(e,t){var a=t.courseId,i=t.value,s=t.active,o=t.comment,u=new n(i,s,o);return e.executeAction(exports.receiveMyCourseRating,{ratingFeedback:u}),r.postFeedback(a,u)},exports.deleteFeedback=function(e,t){return r.deleteFeedback(t).then(function(){e.dispatch("DELETE_FEEDBACK",t)}).done()}},Q7fu:function(module,exports,e){"use strict";var t,n=_interopRequireDefault(e("iCc5"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _=e("VYij"),r=function(){function CourseRatingStats(e,t){var r=this;(0,n.default)(this,CourseRatingStats),this.counts=e,this.totalCount=0,this.averageRating=0,_(this.counts).each(function(e,t){r.totalCount=r.totalCount+e,r.averageRating=r.averageRating+t*e}),this.averageRating=parseFloat((this.averageRating/this.totalCount).toFixed(1)),t&&Object.assign(this,t)}return CourseRatingStats.prototype.getCount=function getCount(e){return this.counts[e.value]||0},CourseRatingStats.prototype.getPercent=function getPercent(e){if(!this.totalCount)return 0;return Math.round(this.getCount(e)/this.totalCount*100)},CourseRatingStats}();module.exports=r},QXJk:function(module,exports,e){"use strict";var t,n=_interopRequireDefault(e("iCc5")),r,a=_interopRequireDefault(e("FYw3")),i,s=_interopRequireDefault(e("mRg0")),o,u;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var c=e("w/1P"),l=e("sbe7");e("t57v");var d=e("esdG"),h,p=e("kvW3").FormattedMessage,f=(u=o=function(e){function CourseRatingIconsAccessible(){var t,r,i;(0,n.default)(this,CourseRatingIconsAccessible);for(var s=arguments.length,o=Array(s),u=0;u<s;u++)o[u]=arguments[u];return t=r=(0,a.default)(this,e.call.apply(e,[this].concat(o))),r.state={highlightValue:-1,focusValue:-1},r.handleMouseLeave=function(){r.setState(function(){return{highlightValue:-1}})},i=t,(0,a.default)(r,i)}return(0,s.default)(CourseRatingIconsAccessible,e),CourseRatingIconsAccessible.prototype.handleMouseOver=function handleMouseOver(e){this.setState(function(){return{highlightValue:e}})},CourseRatingIconsAccessible.prototype.handleFocus=function handleFocus(e){this.setState(function(){return{focusValue:e}})},CourseRatingIconsAccessible.prototype.handleSelect=function handleSelect(e){this.setState(function(){return{highlightValue:-1}}),this.props.onSelect&&this.props.onSelect(e)},CourseRatingIconsAccessible.prototype.renderIcon=function renderIcon(e,t){var n=this,r=this.props,a=r.readOnly,i=r.radioName,s=this.state,o=s.highlightValue,u=s.focusValue,h=e<=o,f,g=o>-1,C=e%1!=0,R=c("c-course-rating-icon",{"cif-star":h||t&&!g&&!C,"cif-star-half-empty":!h&&t&&!g&&C,"cif-star-o":!h&&(!t||g),highlight:h,focused:void 0!==e&&e===u}),v=e===this.props.value,m,E={type:"radio",name:i,className:"sr-only",onChange:function onChange(){return n.handleSelect(e)},onFocus:function onFocus(){return n.handleFocus(e)},onBlur:function onBlur(){return n.handleFocus(-1)},value:e,checked:v,tabIndex:v?0:-1};return l.createElement("label",{className:R,onMouseOver:!a&&function(){return n.handleMouseOver(e)},key:e},l.createElement("input",E),l.createElement("span",{className:"sr-only"},l.createElement(p,{message:d("{stars} {stars, plural, one {Star} other {Stars}}"),stars:e})))},CourseRatingIconsAccessible.prototype.renderUnselected=function renderUnselected(e){var t=this,n=!e.map(function(e){return e.selected}).some(function(e){return!!e}),r=this.props.radioName,a=n?0:-1;return l.createElement("label",{className:"sr-only"},l.createElement("input",{type:"radio",value:"0",name:r,onChange:function onChange(){return t.handleSelect(0)},onFocus:function onFocus(){return t.handleFocus(0)},onBlur:function onBlur(){return t.handleFocus(-1)},checked:n,tabIndex:a}),l.createElement("span",{className:"sr-only"},d("Unselect rating")))},CourseRatingIconsAccessible.prototype.render=function render(){var e=this,t=this.props,n=t.readOnly,r=t.value,a=this.state.focusValue,i=c("rc-CourseRatingIcons rc-CourseRatingIconsAccessible",this.props.size,{"read-only":n,focused:0===a}),s=CourseRatingIconsAccessible.getRatingDistribution(r);return l.createElement("div",{className:i,onMouseLeave:this.handleMouseLeave},this.renderUnselected(s),s.map(function(t){return e.renderIcon(t.value,t.selected)}))},CourseRatingIconsAccessible}(l.Component),o.defaultProps={size:"small",readOnly:!0},o.getRatingDistribution=function(e){var t=.5,n=[],r=Math.round(2*e)/2;for(5!==e&&(r=Math.min(r,4.5));t<=r;){var a;t%1!=0?t+.5>r?(n.push({value:t,selected:!0}),t+=1):t+=.5:(n.push({value:t,selected:!0}),t+=.5)}for(t%1!=0&&(t+=.5);t<=5;)n.push({value:t,selected:!1}),t+=1;return n},u);module.exports=f},TuMe:function(module,exports,e){"use strict";var t=e("wiyT"),_=e("VYij"),n=e("BYll"),r=e("RKmy"),a=e("Gg26"),i=e("O27z"),s=e("asG6"),o=e("BjxC"),u=e("hTBN"),c=e("BDKN"),l,d=e("2KOH").ALL_BRANCHES,h={getRatingStats:function getRatingStats(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.AllLearners,i=(new c).addQueryParam("q","course").addQueryParam("courseId",e).addQueryParam("feedbackSystem",o.Rating).addQueryParam("ratingValues","1,2,3,4,5").addQueryParam("countBy","ratingValue");return n!==d&&i.addQueryParam("courseBranchId",n),r.id===u.Completers.id&&i.addQueryParam("courseCompleted",!0),t(a.get(i.toString())).then(function(e){return e.elements[0].counts})},getReviewStats:function getReviewStats(e){var n=(new c).addQueryParam("q","course").addQueryParam("courseId",e).addQueryParam("feedbackSystem",o.Rating).addQueryParam("ratingValues","1,2,3,4,5").addQueryParam("categories","generic").addQueryParam("countBy","category");return t(i.get(n.toString())).then(function(e){return e.elements[0].counts})},getReviews:function getReviews(e,n,a,i,s){var l=10,h=(new c).addQueryParam("q","course").addQueryParam("courseId",e).addQueryParam("feedbackSystem",o.Rating).addQueryParam("ratingValues",-1===s?"1,2,3,4,5":s).addQueryParam("categories","generic").addQueryParam("start",10*i).addQueryParam("limit",10);return n!==d&&h.addQueryParam("courseBranchId",n),a.id===u.Completers.id&&h.addQueryParam("courseCompleted",!0),t(r.get(h.toString())).then(function(e){var t,n,r;return{feedbacks:e.elements,totalCount:e.paging.total}})},getFeedback:function getFeedback(e){var r=(new c).addQueryParam("q","course").addQueryParam("courseId",e);return t(n.get(r.toString())).then(function(e){return e.elements[0]})},multiGetStarFeedback:function multiGetStarFeedback(e){var r=20,a=_(e).chain().groupBy(function(e,t){return Math.floor(t/20)}).toArray().value(),i=_(a).map(function(e){var r=(new c).addQueryParam("q","byCourseAndFeedback").addQueryParam("courseIds",e.join(",")).addQueryParam("feedbackSystem","STAR");return t(n.get(r.toString())).then(function(e){return e.elements})});return t.all(i).then(function(e){return _(e).flatten()})},postFeedback:function postFeedback(e,r){var a=(new c).addQueryParam("action","submit").addQueryParam("courseId",e).addQueryParam("feedbackSystem",o.Rating);return t(n.post(a.toString(),{data:r.toObject()}))},deleteFeedback:function deleteFeedback(e){var n=(new c).addQueryParam("action","hide").addQueryParam("feedbackId",e);return t(s.post(n.toString()))}};module.exports=h},Vroy:function(module,exports,e){"use strict";var t,n=_interopRequireDefault(e("YEIV")),r,a=_interopRequireDefault(e("QbLZ"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _=e("VYij"),i,s=e("2KOH").storeNames,o=e("HFLA"),u={branches:{},drafts:{}};function branches(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1],r=Object.assign({},e);switch(t.type){case"ON_BRANCHES_LOADING":return(0,a.default)({},r,{loadingAll:!0,loadedAll:!1});case"ON_BRANCHES_LOAD_SUCCESS":return(0,a.default)({},r,{loadingAll:!1,loadedAll:!0,branches:_(t.branches).indexBy("id")});case"SAVE_BRANCH":return(0,a.default)({},r,{branches:Object.assign({},r.branches,(0,n.default)({},t.branchId,Object.assign({},t.branch,{id:t.branchId})))});case"SAVE_DRAFTS_FOR_BRANCH":return(0,a.default)({},r,{drafts:Object.assign({},r.drafts,(0,n.default)({},t.branchId,t.drafts))});case"SAVE_CONFLICT_METADATA_FOR_BRANCH":case"VALIDATE_BRANCH":case"ON_BRANCH_CREATING":case"ON_BRANCH_UPDATE_SUCCESS":case"ON_BRANCH_UPDATE_FAILURE":case"ON_BRANCH_DELETING":case"ON_BRANCH_DELETE_SUCCESS":default:return r}}exports.store=o(branches,s.BRANCHES_STORE,["ON_BRANCHES_LOADING","ON_BRANCHES_LOAD_SUCCESS","ON_BRANCH_CREATING","ON_BRANCH_UPDATE_SUCCESS","ON_BRANCH_UPDATE_FAILURE","SAVE_BRANCH","ON_BRANCH_DELETING","ON_BRANCH_DELETE_SUCCESS","SAVE_CONFLICT_METADATA_FOR_BRANCH","SAVE_DRAFTS_FOR_BRANCH"],u),exports.reducer=branches},XHmf:function(module,exports,e){"use strict";var t,n=_interopRequireDefault(e("iCc5")),r,a=_interopRequireDefault(e("FYw3")),i,s=_interopRequireDefault(e("mRg0")),o,u,c,l;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var d=e("sbe7"),h=e("YCpq"),p,f=e("OOvi").receiveMyCourseRating,g=e("bEJl"),C=e("5E6G"),R=e("L1vm"),v=e("ngyh"),m=e("EVkW");e("GAn1");var E=(u=o=function(e){function CourseRating(){return(0,n.default)(this,CourseRating),(0,a.default)(this,e.apply(this,arguments))}return(0,s.default)(CourseRating,e),CourseRating.prototype.componentDidMount=function componentDidMount(){this.context.executeAction(f,{ratingFeedback:this.props.ratingFeedback})},CourseRating.prototype.render=function render(){if(!h.get("authenticated"))return null;return d.createElement("div",{className:"rc-CourseRating"},d.createElement(g,{course:this.props.course}))},CourseRating}(d.Component),o.propTypes={course:d.PropTypes.object.isRequired,ratingFeedback:d.PropTypes.instanceOf(m).isRequired},o.contextTypes={executeAction:d.PropTypes.func.isRequired},u),S=(l=c=function(e){function TrackedCourseRating(){return(0,n.default)(this,TrackedCourseRating),(0,a.default)(this,e.apply(this,arguments))}return(0,s.default)(TrackedCourseRating,e),TrackedCourseRating.prototype.getChildContext=function getChildContext(){var e=this.props.course,t=e.get?e.get("id"):e.id;return{track:R.makeTracker({namespace:"content_learner.rating_course",include:{course_id:t}})}},TrackedCourseRating.prototype.render=function render(){return d.createElement(E,this.props)},TrackedCourseRating}(d.Component),c.propTypes={course:d.PropTypes.object.isRequired,ratingFeedback:d.PropTypes.instanceOf(m).isRequired},c.childContextTypes={track:d.PropTypes.func},l),b=function(e){function FluxibleCourseRating(){return(0,n.default)(this,FluxibleCourseRating),(0,a.default)(this,e.apply(this,arguments))}return(0,s.default)(FluxibleCourseRating,e),FluxibleCourseRating.prototype.componentWillMount=function componentWillMount(){this.fluxibleContext=C.createContext()},FluxibleCourseRating.prototype.render=function render(){return d.createElement(v,{context:this.fluxibleContext.getComponentContext()},d.createElement(S,this.props))},FluxibleCourseRating}(d.Component);module.exports=b},YNqN:function(module,exports,e){"use strict";var t=e("esdG");module.exports=[{value:-1,label:t("All reviews")},{value:5,label:t("5 star")},{value:4,label:t("4 star")},{value:3,label:t("3 star")},{value:2,label:t("2 star")},{value:1,label:t("1 star")}]},bEJl:function(module,exports,e){"use strict";var t,n=_interopRequireDefault(e("QbLZ")),r,a=_interopRequireDefault(e("iCc5")),i,s=_interopRequireDefault(e("FYw3")),o,u=_interopRequireDefault(e("mRg0")),c,l;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var d=e("sbe7"),h=e("+eFp"),p=e("ijI/"),f=e("ltFc"),g=e("y5Ww"),C,R=e("OOvi").postMyCourseRating,v=e("6oCU"),m,E=e("kvW3").FormattedHTMLMessage,S=e("8cuT"),b=e("6gRZ"),A=b.Tooltip,y=b.OverlayTrigger,I=e("EVkW"),T=e("esdG"),B=(l=c=function(e){function CourseRatingContent(){var t,n,r;(0,a.default)(this,CourseRatingContent);for(var i=arguments.length,o=Array(i),u=0;u<i;u++)o[u]=arguments[u];return t=n=(0,s.default)(this,e.call.apply(e,[this].concat(o))),n.state={showModal:!1,showMessage:!1,message:""},n.handleClick=function(e){e.preventDefault(),n.context.track("click.rating"),n.setState({showModal:!0})},n.handleClose=function(){n.context.track("click.cancel"),n.setState({showModal:!1})},n.handleSubmit=function(e,t){var r=n.props.course,a=n.getCourseNameAndId(r),i=a.courseId,s=a.courseName;n.setState({showModal:!1,showMessage:!0,message:d.createElement(E,{message:T("Your review of <strong>{courseName}</strong> has been submitted."),courseName:s})}),n.context.executeAction(R,{courseId:i,value:e,active:!0,comment:t}),n.context.track("click.submit",{feedback_length:v.getLength(t),feedback_value:e})},n.handleClear=function(){var e=n.props.course,t=n.getCourseNameAndId(e),r=t.courseId,a=t.courseName;n.setState({showModal:!1,showMessage:!0,message:d.createElement(E,{message:T("Your review of <strong>{courseName}</strong> has been removed."),courseName:a})}),n.context.executeAction(R,{courseId:r,value:0,active:!1,comment:v.create("")}),n.context.track("click.clear")},n.handleMessageTimeout=function(){n.setState({showMessage:!1})},r=t,(0,s.default)(n,r)}return(0,u.default)(CourseRatingContent,e),CourseRatingContent.prototype.getCourseNameAndId=function getCourseNameAndId(e){var t=!!e.get;return{courseId:t?e.get("id"):e.id,courseName:t?e.get("name"):e.name}},CourseRatingContent.prototype.render=function render(){var e=T("Rate this course"),t=d.createElement(A,null,e);if(!this.props.ratingFeedback)return d.createElement("div",null);return d.createElement("div",{className:"rc-CourseRatingContent"},d.createElement(y,{placement:"top",overlay:t},d.createElement("button",{ref:"icons",className:"c-course-rating-icons-container nostyle button-link",onClick:this.handleClick,"aria-label":T("Rate this course")},d.createElement(p,{value:this.props.ratingFeedback.value}))),this.state.showModal&&d.createElement(f,(0,n.default)({},this.props,{onSubmit:this.handleSubmit,onClear:this.handleClear,onClose:this.handleClose})),d.createElement(h,{transitionName:"fade",transitionEnterTimeout:500,transitionLeaveTimeout:500},this.state.showMessage&&d.createElement(g,{key:"feedback-complete",onTimeout:this.handleMessageTimeout},this.state.message)))},CourseRatingContent}(d.Component),c.propTypes={course:d.PropTypes.object.isRequired,ratingFeedback:d.PropTypes.instanceOf(I)},c.contextTypes={executeAction:d.PropTypes.func.isRequired,track:d.PropTypes.func.isRequired},l);module.exports=S(B,["CourseRatingStore"],function(e,t){var n;return{ratingFeedback:e.CourseRatingStore.getMyRatingFeedback()}}),module.exports.BaseComp=B},bOns:function(module,exports,e){},hTBN:function(module,exports,e){"use strict";var t=e("esdG");module.exports={AllLearners:{id:"ALL_LEARNERS",label:t("All learners"),eventKey:"all_learners"},Completers:{id:"COMPLETERS",label:t("Completers"),eventKey:"completers"}}},hYTS:function(module,exports,e){var t=e("bOns"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},a=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},iILo:function(module,exports,e){"use strict";var t,n=_interopRequireDefault(e("iCc5")),r,a=_interopRequireDefault(e("FYw3")),i,s=_interopRequireDefault(e("mRg0")),o,u;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _=e("VYij"),c=e("Koac"),l=e("Md22"),d=e("ByX+"),h=e("CBtc"),p=e("jqTA"),f=["course","courseRole","sessions","branches"],g=(u=o=function(e){function TeachAppStore(){var t,r,i;(0,n.default)(this,TeachAppStore);for(var s=arguments.length,o=Array(s),u=0;u<s;u++)o[u]=arguments[u];return t=r=(0,a.default)(this,e.call.apply(e,[this].concat(o))),r.course=null,r.courseRole="BROWSER",r.sessions=[],r.branches=[],i=t,(0,a.default)(r,i)}return(0,s.default)(TeachAppStore,e),TeachAppStore.prototype.dehydrate=function dehydrate(){return _.pick.apply(_,[this].concat(f))},TeachAppStore.prototype.rehydrate=function rehydrate(e){Object.assign(this,_.pick.apply(_,[e].concat(f))),this.course=new d(e.course),e.sessions.length>0&&(this.sessions=e.sessions.map(function(e){return new l(e)})),e.branches.length>0&&(this.branches=e.branches.map(function(e){return new h(e)}))},TeachAppStore.prototype.getCourse=function getCourse(){return this.course},TeachAppStore.prototype.getCourseRole=function getCourseRole(){return this.courseRole},TeachAppStore.prototype.getSessions=function getSessions(){return this.sessions},TeachAppStore.prototype.getBranches=function getBranches(){return this.branches},TeachAppStore.prototype.getLaunchedBranches=function getLaunchedBranches(){return this.branches.filter(function(e){return p.isLaunched(e.branchStatus,e.isPrivate)})},TeachAppStore.prototype.hasPrivateBranch=function hasPrivateBranch(){return!!this.branches.find(function(e){return e.isPrivate})},TeachAppStore.prototype.getBranchForSession=function getBranchForSession(e){return this.branches.find(function(t){return!!t.associatedSessions[e]})},TeachAppStore}(c),o.storeName="TeachAppStore",o.handlers={RECEIVE_COURSE:function RECEIVE_COURSE(e){this.course=new d(e),this.emitChange()},RECEIVE_MEMBERSHIP_FOR_COURSE:function RECEIVE_MEMBERSHIP_FOR_COURSE(e){this.courseRole=e,this.emitChange()},RECEIVE_SESSIONS_FOR_COURSE:function RECEIVE_SESSIONS_FOR_COURSE(e){this.sessions=e.map(function(e){return new l(e)}),this.emitChange()},RECEIVE_BRANCHES_FOR_COURSE:function RECEIVE_BRANCHES_FOR_COURSE(e){this.branches=e.map(function(e){return new h(e)}),this.emitChange()}},u);module.exports=g},"ijI/":function(module,exports,e){"use strict";var t,n=_interopRequireDefault(e("iCc5")),r,a=_interopRequireDefault(e("FYw3")),i,s=_interopRequireDefault(e("mRg0")),o,u;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var c=e("w/1P"),l=e("sbe7");e("t57v");var d=(u=o=function(e){function CourseRatingIcons(){var t,r,i;(0,n.default)(this,CourseRatingIcons);for(var s=arguments.length,o=Array(s),u=0;u<s;u++)o[u]=arguments[u];return t=r=(0,a.default)(this,e.call.apply(e,[this].concat(o))),r.state={highlightValue:-1},r.handleMouseLeave=function(){r.setState({highlightValue:-1})},i=t,(0,a.default)(r,i)}return(0,s.default)(CourseRatingIcons,e),CourseRatingIcons.prototype.handleMouseOver=function handleMouseOver(e){this.setState({highlightValue:e})},CourseRatingIcons.prototype.handleSelect=function handleSelect(e){this.setState({highlightValue:-1}),this.props.onSelect&&this.props.onSelect(e)},CourseRatingIcons.prototype.renderIcon=function renderIcon(e,t){var n=this,r=e<=this.state.highlightValue,a=this.state.highlightValue>-1,i=e%1!=0,s=c("c-course-rating-icon",{"cif-star":r||t&&!a&&!i,"cif-star-half-empty":!r&&t&&!a&&i,"cif-star-o":!r&&(!t||a),highlight:r});return l.createElement("i",{key:e,className:s,onMouseOver:!this.props.readOnly&&function(){return n.handleMouseOver(e)},onClick:function onClick(){return n.handleSelect(e)},"aria-hidden":"true"})},CourseRatingIcons.prototype.render=function render(){var e=this,t=c("rc-CourseRatingIcons",this.props.size,{"read-only":this.props.readOnly}),n=CourseRatingIcons.getRatingDistribution(this.props.value);return l.createElement("div",{className:t,onMouseLeave:this.handleMouseLeave},n.map(function(t){var n=t.value,r=t.selected;return e.renderIcon(n,r)}))},CourseRatingIcons}(l.Component),o.propTypes={onSelect:l.PropTypes.func,readOnly:l.PropTypes.bool,value:l.PropTypes.number.isRequired,size:l.PropTypes.oneOf(["small","large"])},o.defaultProps={size:"small",readOnly:!0},o.getRatingDistribution=function(e){var t=.5,n=[],r=Math.round(2*e)/2;for(5!==e&&(r=Math.min(r,4.5));t<=r;){var a;t%1!=0?t+.5>r?(n.push({value:t,selected:!0}),t+=1):t+=.5:(n.push({value:t,selected:!0}),t+=.5)}for(t%1!=0&&(t+=.5);t<=5;)n.push({value:t,selected:!1}),t+=1;return n},u);module.exports=d},jqTA:function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pushBranchIdToUrl=exports.getLatestSelectableBranch=exports.getLatestBranch=exports.getBranchIdForSession=exports.isBreakingChangeAllowed=exports.canCreateNewBranch=exports.isLaunched=exports.associatedSessionsAreFinal=exports.getDefaultEnrollableSessionId=exports.getActiveSessions=exports.getSortedSessions=exports.findCorrespondingCourseBranchId=exports.isBaseBranch=void 0;var t,n=_interopRequireDefault(e("QbLZ")),r,a=_interopRequireDefault(e("LvDl")),i,s=_interopRequireDefault(e("Suiq")),o=e("2KOH");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var u=exports.isBaseBranch=function isBaseBranch(e){return!/(authoringBranch|branch)~.+/.test(e)},c=exports.findCorrespondingCourseBranchId=function findCorrespondingCourseBranchId(e,t,n){var r=(0,a.default)(e).find(function(e){return e.id===n});return r?r.courseBranchId:t},l=exports.getSortedSessions=function getSortedSessions(e){return Object.keys(e.associatedSessions).map(function(t){return e.associatedSessions[t]}).sort(function(e,t){return e.startedAt-t.startedAt})},d=exports.getActiveSessions=function getActiveSessions(e){if(!e.associatedSessions)return null;return Object.keys(e.associatedSessions).reduce(function(t,r){var a=e.associatedSessions[r];return Date.now()>a.startedAt&&Date.now()<a.endedAt&&t.push((0,n.default)({},a,{id:r,startedAt:s.default.utc(a.startedAt),endedAt:s.default.utc(a.endedAt),enrollmentEndedAt:s.default.utc(a.enrollmentEndedAt)})),t},[]).sort(function(e,t){return e.startedAt-t.startedAt})},h=exports.getDefaultEnrollableSessionId=function getDefaultEnrollableSessionId(e){if(!e.associatedSessions)return null;var t=d(e);if(t&&t.length>0)return t[0].id;var n=l(e);if(n&&n[0])return n[0].id;return null},p=exports.associatedSessionsAreFinal=function associatedSessionsAreFinal(e){return e.filter(function(e){return e.enrollmentEndedAt>(0,s.default)()}).length<=1},f=exports.isLaunched=function isLaunched(e,t){if(t)return e===o.branchStatus.LIVE||e===o.branchStatus.ARCHIVED;var n;return!![o.branchStatus.LIVE,o.branchStatus.ARCHIVED,o.branchStatus.UPCOMING].find(function(t){return e===t})},g=exports.canCreateNewBranch=function canCreateNewBranch(e){return!e.find(function(e){return e.branchStatus!==o.branchStatus.LIVE&&e.branchStatus!==o.branchStatus.ARCHIVED&&!e.isPrivate&&e.branchStatus!==o.branchStatus.UPCOMING})},C=exports.isBreakingChangeAllowed=function isBreakingChangeAllowed(e){return e.isPrivate&&e.branchStatus===o.branchStatus.LIVE},R=exports.getBranchIdForSession=function getBranchIdForSession(e,t){if(1===t.length)return t[0].id;var n=t.find(function(t){return t.associatedSessions[e]});return n&&n.id},v=exports.getLatestBranch=function getLatestBranch(e){if(1===e.length)return e[0];return a.default.maxBy(e,"createdAt")},m=exports.getLatestSelectableBranch=function getLatestSelectableBranch(e){if(1===e.length)return e[0];var t=e.filter(function(e){return e.branchStatus!==o.branchStatus.ARCHIVED&&e.branchStatus!==o.branchStatus.CREATING});return v(t)},E=exports.pushBranchIdToUrl=function pushBranchIdToUrl(e,t){var r=t.location,a=t.push,i=r.query;delete i.sessionId,delete i.groupId;var s=(0,n.default)({},i,{versionId:e}),o;a((0,n.default)({},r,{query:s}))}},kb8M:function(module,exports,e){"use strict";var t,n=_interopRequireDefault(e("iCc5")),r,a=_interopRequireDefault(e("FYw3")),i,s=_interopRequireDefault(e("mRg0")),o,u;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var c=e("sbe7"),l=e("GXs9");e("wC9n");var d=(u=o=function(e){function CourseRatingHeader(){return(0,n.default)(this,CourseRatingHeader),(0,a.default)(this,e.apply(this,arguments))}return(0,s.default)(CourseRatingHeader,e),CourseRatingHeader.prototype.render=function render(){var e=void 0,t="",n="",r="";if(this.props.catalogPCourse){var a=this.props.catalogPCourse;if(a.get)t=a.get("photoUrl"),n=(e=a.get("partners"))?e.at(0).get("name"):"",r=a.get("name");else{var i=a;t=i.photoUrl,r=i.name}}else{var s=this.props.openCourse;t=s.get("promoPhoto"),n=(e=s.get("universities")).models&&e.models[0]&&e.models[0].get("name")||"",r=s.get("name")}return c.createElement("div",{className:"rc-CourseRatingHeader"},c.createElement(l,{width:200,alt:l.DECORATIVE,src:t,className:"c-course-rating-header-img"}),c.createElement("div",{className:"c-course-rating-header-content"},c.createElement("div",{className:"body-2-text"},n),c.createElement("h3",null,r)))},CourseRatingHeader}(c.Component),o.propTypes={catalogPCourse:c.PropTypes.object,openCourse:c.PropTypes.object},u);module.exports=d},lXpx:function(module,exports,e){"use strict";var _=e("VYij"),t=e("VvWD"),n=e("4qg5"),r=t({storeName:"CourseRatingStore",initialize:function initialize(){this.myRatingFeedback=null,this.isLoadingReviews=!1,this.courseRatings=new n},getMyRatingFeedback:function getMyRatingFeedback(){return this.myRatingFeedback},getReviewCollection:function getReviewCollection(){return this.courseRatings.reviewCollection},getBranchId:function getBranchId(){return this.courseRatings.branchId},getRatingValue:function getRatingValue(){return this.courseRatings.ratingValue},getLearnerAudience:function getLearnerAudience(){return this.courseRatings.learnerAudience},getCourseRatingStats:function getCourseRatingStats(){return this.courseRatings.stats},getIsLoadingReviews:function getIsLoadingReviews(){return this.isLoadingReviews}});r.handlers={GET_REVIEWS:function GET_REVIEWS(e,t){var n=e.reviewCollection;this.isLoadingReviews=!0,this.emitChange()},RECEIVE_REVIEWS:function RECEIVE_REVIEWS(e,t){var n=e.feedbacks,r=e.totalCount;this.isLoadingReviews=!1,this.courseRatings.appendReviews(n,r),this.emitChange()},DELETE_FEEDBACK:function DELETE_FEEDBACK(e){this.courseRatings.deleteReview(e),this.emitChange()},FILTER_REVIEWS:function FILTER_REVIEWS(e,t){var n=e.ratingValue;this.courseRatings.setRatingValue(n),this.emitChange()},RECEIVE_COURSE_RATING_STATS:function RECEIVE_COURSE_RATING_STATS(e,t){var n=e.courseRatingStats;this.courseRatings.setStats(n),this.emitChange()},FILTER_RATINGS:function FILTER_RATINGS(e,t){var n=e.learnerAudience;this.courseRatings.setLearnerAudience(n),this.emitChange()},RECEIVE_MY_RATING:function RECEIVE_MY_RATING(e,t){var n=e.ratingFeedback;this.myRatingFeedback=n,this.emitChange()},SET_FEEDBACK_BRANCH_ID:function SET_FEEDBACK_BRANCH_ID(e,t){var n=e.branchId;this.courseRatings.setBranchId(n),this.emitChange()}},module.exports=r},ltFc:function(module,exports,e){"use strict";var t,n=_interopRequireDefault(e("iCc5")),r,a=_interopRequireDefault(e("FYw3")),i,s=_interopRequireDefault(e("mRg0")),o,u,c;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var l=e("w/1P"),d=e("sbe7"),h=e("QXJk"),p=e("jEz0"),f=e("EVkW"),g=e("6oCU"),C=e("CQyo"),R=e("kb8M"),v,m=e("kvW3").FormattedHTMLMessage,E=e("esdG");e("hYTS");var S=(u=o=function(e){function CourseRatingModal(t,r){(0,n.default)(this,CourseRatingModal);var i=(0,a.default)(this,e.call(this,t,r));c.call(i);var s=t.ratingFeedback,o=s.comment,u=s.value;return i.state={comment:o||g.create(),value:u},i}return(0,s.default)(CourseRatingModal,e),CourseRatingModal.prototype.render=function render(){var e=0!==this.state.value,t=l("teach-btn","teach-btn-primary","c-course-rating-submit",{disabled:!e}),n=l("c-course-rating-clear","teach-btn","teach-btn-dark");return d.createElement(C,{className:"rc-CourseRatingModal",modalName:E("Rate this course"),handleClose:this.props.onClose},d.createElement(R,{catalogPCourse:this.props.course}),d.createElement("h3",null,E("Your review")),d.createElement(h,{size:"large",readOnly:!1,value:this.state.value,onClear:this.handleClear,onSelect:this.handleSelect,radioName:"course-rating-modal"}),d.createElement(p,{isFocused:!0,cml:this.state.comment,placeholder:E("Write your review (optional)"),onChange:this.handleChange}),d.createElement("div",{className:"footer-container"},d.createElement("div",{className:"body-1-text c-course-rating-disclaimer"},d.createElement(m,{message:E('By clicking Submit, I agree that my feedback may be viewed by the Coursera community,\n                in compliance with the Coursera <a href="https://www.coursera.org/about/terms" target="_blank">\n                Terms of Use</a> and My Profile privacy settings.')})),d.createElement("div",{className:"submit-container horizontal-box"},!!this.props.ratingFeedback.value&&d.createElement("button",{title:E("Remove course review"),className:n,onClick:this.handleClear},E("Clear")),d.createElement("button",{title:E("Submit course review"),className:t,onClick:this.handleSubmit,disabled:!e},E("Submit")))))},CourseRatingModal}(d.Component),o.propTypes={course:d.PropTypes.object.isRequired,ratingFeedback:d.PropTypes.instanceOf(f).isRequired,onClose:d.PropTypes.func.isRequired,onSubmit:d.PropTypes.func.isRequired,onClear:d.PropTypes.func.isRequired},c=function _initialiseProps(){var e=this;this.handleChange=function(t){e.setState(function(){return{comment:t}})},this.handleSubmit=function(){e.props.onSubmit(e.state.value,e.state.comment)},this.handleClear=function(){e.props.onClear()},this.handleSelect=function(t){e.setState(function(){return{value:t}})}},u);module.exports=S},mVDR:function(module,exports,e){"use strict";var t,n=_interopRequireDefault(e("QbLZ"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var r,a=e("2KOH").storeNames,i=e("HFLA"),s={selection:null};function branchSelection(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1],r=Object.assign({},e);switch(t.type){case"SELECT_BRANCH":return(0,n.default)({},r,{selection:t.branchId});case"LOAD_BRANCH":return(0,n.default)({},r,{branch:t.branch});default:return r}}exports.store=i(branchSelection,a.BRANCH_SELECTION_STORE,["SELECT_BRANCH","LOAD_BRANCH"],s),exports.reducer=branchSelection},t57v:function(module,exports,e){var t=e("F9a/"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},a=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},wC9n:function(module,exports,e){var t=e("17IF"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},a=e("aET+")(t,r);t.locals&&(module.exports=t.locals)}}]);
//# sourceMappingURL=76.38a3c87779864dd91fee.js.map