(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{"+M5F":function(module,exports,e){"use strict";var t=e("wiyT"),r=e("JAlB"),n=e("wDa7"),u=e("CA+Q"),i=e("ML/G"),o,a=e("JuBF").getCurrentWeek;exports.receiveDeadlines=function(e,t){var r=t.deadlines,n=r.isEnabled,u=r.moduleDeadlines;n?e.dispatch("LOAD_COURSE_DEADLINES",{moduleDeadlines:u}):e.dispatch("DISABLE_DEADLINES")},exports.setDeadlinesIfEligible=function(e){var n=e.getStore("CourseStore"),u=e.getStore("CourseScheduleStore"),i=e.getStore("ProgressStore"),o=a(n,u,i),s=n.hasLaunched(),d=n.getCourseId(),l=e.getStore("CourseMembershipStore").isEnrolled(),c=e.getStore("SessionStore");return!r(d)&&s&&!c.isSessionsCourse()&&1===o&&l?e.executeAction(exports.enableDeadlines,{}):t()},exports.loadCourseDeadlines=function(e,i){var o=i.userId,a=e.getStore("CourseStore").hasLaunched(),s=e.getStore("CourseStore").getCourseId(),d=e.getStore("CourseMembershipStore").isEnrolled(),l=e.getStore("SessionStore");if(!d||!o||r(s)||!a)return t();if(l.isSessionsEnabled()){if(l.isEnrolled()){var c=l.getSession(),f={moduleDeadlines:c.moduleDeadlines};f.itemDeadlines=c.itemDeadlines,e.dispatch("LOAD_COURSE_DEADLINES",f)}return t()}return n.getStartTime(s).then(u).then(function(t){var r,n=t.elements[0];return n?e.executeAction(exports.receiveDeadlines,{deadlines:n}):e.executeAction(exports.setDeadlinesIfEligible,{})})},exports.enableDeadlines=function(e){var t=e.getStore("CourseStore").getCourseId();return n.sendStartTime(!0,t).fail(function(e){throw e}).then(u).then(function(t){var r=t.elements,n=r[0].start;return i.pushV2(["open_course_home.welcome.emit.course_deadline_set",{first_week_due_time:n}]),e.executeAction(exports.receiveDeadlines,{deadlines:r[0]})})},exports.disableDeadlines=function(e){var t=e.getStore("CourseStore").getCourseId();return n.disableDeadlines(t).then(function(){return e.dispatch("DISABLE_DEADLINES")}).fail(function(e){throw e})},exports.resetDeadlines=function(e,t){var r=t.userId,u=e.getStore("CourseStore").getCourseId();return n.resetDeadlines(u).then(function(){return e.executeAction(exports.loadCourseDeadlines,{userId:r})}).fail(function(e){throw e})}},"3/Qw":function(module,exports,e){"use strict";var t,r=_interopRequireDefault(e("QbLZ")),n,u=_interopRequireDefault(e("jo6Y"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var i=e("sbe7"),o=e("shn3"),a=function LoadingBox(e){var t=e.loadingText,n=e.iconSize,a=void 0===n?64:n,s=e.iconName,d=void 0===s?"SvgCssLoaderSignal":s,l=(0,u.default)(e,["loadingText","iconSize","iconName"]);return i.createElement("div",(0,r.default)({className:"rc-LoadingBox vertical-box align-items-absolute-center"},l),i.createElement(o,{iconName:d,size:a,className:"color-primary"}),t&&i.createElement("p",null,t))};a.propTypes={iconName:i.PropTypes.string,loadingText:i.PropTypes.string,iconSize:i.PropTypes.number},module.exports=a},"5Ujo":function(module,exports,e){"use strict";var t=e("wiyT"),r=e("Vu1r");exports.loadCoursePresentGrade=function(e,n){var u=n.userId,i=n.courseId;if(e.getStore("CoursePresentGradeStore").hasLoaded())return t();return u?t(r.getPresentGrade({userId:u,courseId:i})).then(function(t){var r=t.elements[0];e.dispatch("LOAD_COURSE_PRESENT_GRADE",{presentGrade:r})}).fail(function(t){e.dispatch("LOAD_COURSE_PRESENT_GRADE_FAIL",{})}):(e.dispatch("LOAD_COURSE_PRESENT_GRADE_FAIL",{}),t())}},"7DGw":function(module,exports,e){"use strict";var t,r=_interopRequireDefault(e("wiyT")),n,u=_interopRequireDefault(e("zG0K")),i,o=_interopRequireDefault(e("qnjr")),a,s=_interopRequireDefault(e("adXg")),d,l=_interopRequireDefault(e("KIQH")),c,f=_interopRequireDefault(e("qNNC")),p,D=_interopRequireDefault(e("k1kN")),S,v=_interopRequireDefault(e("QAZ1"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.loadComputedModels=function(e,t){var n=t.courseSlug,i=t.courseId;if(e.getStore(v.default).hasLoaded())return(0,r.default)();return r.default.all([(0,o.default)(e),(0,u.default)(e,i),(0,l.default)(e,n),(0,s.default)(e,i),(0,f.default)(e,i),(0,D.default)(e,i)]).then(function(){e.dispatch("LOAD_COMPUTED_MODELS")})}},"8iQH":function(module,exports,e){"use strict";var t=e("wiyT"),r=e("BDKN"),n=e("DnuM"),u=e("IAOZ");module.exports=function(e){var i=new n("/api/courses.v1",{type:"rest"}),o=(new r).addQueryParam("q","slug").addQueryParam("slug",e).addQueryParam("fields","certificates").addQueryParam("showHidden",!0);return t(i.get(o.toString())).then(function(t){if("notFound"===t.errorCode)return null;var r=t.elements[0],n=r.id,i=r.certificates;return u.courseId=n,u.courseSlug=e,{courseId:n,courseCertificates:i}})}},HBWY:function(module,exports,e){"use strict";var t,r=_interopRequireDefault(e("wiyT")),n,u=_interopRequireDefault(e("8iQH")),i,o=_interopRequireDefault(e("9zHD"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}module.exports=function(e,t){if(e.getStore(o.default).haveCourseIdentifiersLoaded())return(0,r.default)();if(!t)throw new Error("Missing courseSlug");return(0,u.default)(t).then(function(r){var n=r.courseId,u=r.courseCertificates;if(!n)throw new Error("Missing courseId");return e.dispatch("SET_COURSE_IDENTIFIERS",{courseId:n,courseSlug:t,courseCertificates:u}),{courseId:n,courseSlug:t,courseCertificates:u}}).catch(function(n){console.error("Error getting courseId and courseCertificates from courseSlug: "+t+": ",n,n.stack);var u="",i=[];return e.dispatch("SET_COURSE_IDENTIFIERS",{courseId:"",courseSlug:t,courseCertificates:i}),(0,r.default)({courseId:"",courseSlug:t,courseCertificates:i})})}},JAlB:function(module,exports,e){"use strict";var t=e("KMW/");module.exports=function(e){return-1!==t.get("featureBlacklist","defaultDeadlines").indexOf(e)}},KeRb:function(module,exports,e){"use strict";var t=e("wiyT"),r=e("BDKN"),n=e("CWYE"),u=e("sQ/U"),i=n("/api/onDemandHomeProgress.v1",{type:"rest"});exports.getHomeProgress=function(e){var n=u.get().id+"~"+e,o=new r(n).addQueryParam("fields","modulesCompleted,modulesPassed");return t(i.get(o.toString()))}},NLLZ:function(module,exports,e){"use strict";var t,r=_interopRequireDefault(e("iCc5")),n,u=_interopRequireDefault(e("FYw3")),i,o=_interopRequireDefault(e("mRg0"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var a=e("sbe7"),s=e("+MHB"),d=e("BDKN"),l=e("37kS");module.exports=function renderOrigamiIf(e){return function(t){var n,i,c;return i=n=function(n){function RenderOrigamiIf(){var e,t,i;(0,r.default)(this,RenderOrigamiIf);for(var o=arguments.length,a=Array(o),d=0;d<o;d++)a[d]=arguments[d];return e=t=(0,u.default)(this,n.call.apply(n,[this].concat(a))),t.routerWillLeave=function(e){var t=s.renderedRegions.filter(function(e){return e.view.hasUnsavedModel}).map(function(e){return e.view.hasUnsavedModel()}).reduce(function(e,t){return e||t},!1);if(!t)return!0;return!(!t||!window.confirm(l("There are unsaved changes that will be lost if you reload or leave this page.")))},i=e,(0,u.default)(t,i)}return(0,o.default)(RenderOrigamiIf,n),RenderOrigamiIf.prototype.componentDidMount=function componentDidMount(){var e=this,t=this.context.router,r=this.props.route;s.router.navigate=s.router.navigateTo=function(n){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new d(n),o=new d(window.location.toString());if(o.path()===i.path()&&o.query()===i.query())return;!0===u||u&&!0===u.trigger?u&&u.replace?t.replace(n):t.push(n):u&&u.replace?window.history.replaceState(null,null,n):window.history.pushState(null,null,n),e.context.router.setRouteLeaveHook(r,e.routerWillLeave)}},RenderOrigamiIf.prototype.componentWillReceiveProps=function componentWillReceiveProps(t,r){e(this.props)&&!e(t)&&s.trigger("close")},RenderOrigamiIf.prototype.render=function render(){return e(this.props)?a.createElement("div",null,a.createElement("div",{"data-js":"origami"}),a.createElement(t,this.props)):a.createElement(t,this.props)},RenderOrigamiIf}(a.Component),n.propTypes={children:a.PropTypes.node,route:a.PropTypes.object},n.contextTypes={router:a.PropTypes.object},i}}},NttE:function(module,exports,e){"use strict";var t,r=e("WN3X").getCourseSchedule,n=e("CA+Q");module.exports=function(e){if(!e)throw new Error("`courseId` is required to get course schedule.");return r(e).then(n).then(function(e){var t;return e.elements[0].defaultSchedule.periods})}},PVyl:function(module,exports,e){"use strict";var t,r=_interopRequireDefault(e("qlEU")),n,u=_interopRequireDefault(e("KgRe")),i,o=_interopRequireDefault(e("cySH"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}module.exports=function(e){return(0,r.default)(o.default.build(u.default.prototype.resourceName,e))}},Re7p:function(module,exports,e){"use strict";var t,r=_interopRequireDefault(e("QbLZ"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var n=e("wiyT"),u=e("yF8l"),i={showHidden:!0,fields:["courseId","grade"],includes:{vcMembership:{fields:["certificateCode","grade","grantedAt"]},course:{fields:[]}}};exports.loadCertificateData=function(e,t){var o=t.courseId,a=t.userId;if(e.getStore("CertificateStore").hasLoaded())return n();var s=void 0;return(s=a?u((0,r.default)({id:a+"~"+o},i,{rawData:!0})).then(function(t){e.dispatch("LOAD_MEMBERSHIPS",t)}):n().then(function(){e.dispatch("LOAD_MEMBERSHIPS",null)})).done(),s}},V85f:function(module,exports,e){"use strict";var t=e("wiyT"),r=e("l490"),n=e("paF6");exports.loadVerificationDisplay=function(e,u){var i=u.authenticated,o=u.userId,a=u.courseId,s=u.s12nId,d=u.isCourseVerificationEnabled;if(e.getStore(n).hasLoaded())return t();return i?r(o,a,d,s).then(function(t){e.dispatch("LOAD_VERIFICATION_DISPLAY",t)}):(e.dispatch("LOAD_VERIFICATION_DISPLAY",null),t())}},Vu1r:function(module,exports,e){"use strict";var t,r=_interopRequireDefault(e("wiyT")),n,u=_interopRequireDefault(e("BDKN")),i,o;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var a=(0,_interopRequireDefault(e("DnuM")).default)("/api/onDemandCoursePresentGrades.v1",{type:"rest"});exports.getPresentGrade=function(e){var t=e.userId,n=e.courseId,i=new u.default("/"+t+"~"+n).addQueryParam("fields","grade,relevantItems,passingStateForecast");return(0,r.default)(a.get(i.toString()))}},WN3X:function(module,exports,e){"use strict";var t=e("wiyT"),r=e("BDKN"),n,u=new(e("CWYE"))("/api/onDemandCourseSchedules.v1");exports.getCourseSchedule=function(e){var n=new r(e).addQueryParam("fields","defaultSchedule");return t(u.get(n.toString()))}},adXg:function(module,exports,e){"use strict";var t,r=_interopRequireDefault(e("wiyT")),n,u=_interopRequireDefault(e("NttE")),i,o=_interopRequireDefault(e("htcR")),a,s=_interopRequireDefault(e("WYnM"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}module.exports=function(e,t){if(e.getStore(o.default).hasLoaded())return(0,r.default)();if(!t)return r.default.reject(new s.default("courseId must be provided."));return(0,u.default)(t).then(function(t){e.dispatch("LOAD_COURSE_SCHEDULE",t)})}},i2fe:function(module,exports,e){"use strict";var t=e("wiyT"),r=e("pW7P"),n=e("XqKi");module.exports=function(e,u,i){if(e)return r(e,u).catch(function(t){if(t.responseJSON)return n.failedCallDefault(e,u);throw t}).then(function(e){if(i)return e;return new n(e.elements[0])});if(i)return n.unauthenticatedDefault;return t(new n(n.unauthenticatedDefault))}},k1kN:function(module,exports,e){"use strict";var t,r=_interopRequireDefault(e("wiyT")),n,u=_interopRequireDefault(e("sQ/U")),i,o=_interopRequireDefault(e("RwVU")),a=e("KeRb");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}module.exports=function(e,t){if(e.getStore(o.default).hasLoaded())return(0,r.default)();return u.default.isAuthenticatedUser()?(0,a.getHomeProgress)(t).then(function(t){t.elements&&t.elements.length&&e.dispatch("LOAD_HOME_PROGRESS",t.elements[0])}).fail(function(){e.dispatch("LOAD_HOME_PROGRESS",{modulesCompleted:[],modulesPassed:[]})}):(e.dispatch("LOAD_HOME_PROGRESS",{modulesCompleted:[],modulesPassed:[]}),(0,r.default)())}},l490:function(module,exports,e){"use strict";var t=e("wiyT"),r=e("i2fe"),n=e("uyIS");module.exports=function(e,u,i,o){if(i&&e){var a=t.all([r(e,u,!0),n(e,u,!0)]).spread(function(e,t){var r;return{isProductVerificationEnabled:i,productOwnership:t,verificationPreferences:e,s12nId:o}},function(){return null});return a.done(),a}var s=t(null);return s.done(),s}},pM0B:function(module,exports,e){"use strict";var t=e("wiyT"),_=e("VYij"),r=e("yFL5"),n=e("6p3O"),u=e("Aw3H");exports.loadUserGroupsForCourse=function(e,i){var o=i.courseId,a=i.userId;if(e.getStore("GroupSettingStore").hasLoaded())return t();return r.myCourseGroupsWithSettings(a,o).then(function(t){var r=_(t.linked["groupSettings.v1"]).map(function(e){return new u(e)}),i=t.linked["groups.v1"].map(function(e){return new n(e)}),o=t.elements;e.dispatch("LOADED_COURSE_GROUPS",{groups:i,groupSettings:r,groupMemberships:o})}).fail(function(t){e.dispatch("LOADED_COURSE_GROUPS",{})})},exports.loadUserSessionGroupForCourse=function(e,n){var u=n.courseId,i=n.userId,o=n.sessionId;if(e.getStore("GroupSettingStore").hasSessionGroupLoaded())return t();return r.getCourseSessionGroup(i,u,o).then(function(t){var r=t.elements[0];e.dispatch("LOADED_SESSION_GROUP",{sessionGroup:r})}).fail(function(t){e.dispatch("LOADED_SESSION_GROUP",{})})}},pW7P:function(module,exports,e){"use strict";var t=e("83wf"),r=e("wiyT");module.exports=function(e,n){return r(t.get(e+"~"+n,{}))}},qNNC:function(module,exports,e){"use strict";var t,r=_interopRequireDefault(e("wiyT")),n,u=_interopRequireDefault(e("BDKN")),i,o=_interopRequireDefault(e("CWYE"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}module.exports=function(e,t){var n=(0,o.default)("/api/onDemandReferences.v1",{type:"rest"}),i=(new u.default).addQueryParam("courseId",t).addQueryParam("q","courseListed").addQueryParam("fields","name,shortId,slug,content").addQueryParam("includes","assets");return(0,r.default)(n.get(i.toString())).then(function(t){e.dispatch("LOAD_REFERENCES_LIST",t.elements)})}},qnjr:function(module,exports,e){"use strict";var t,r=_interopRequireDefault(e("wiyT")),n,u=_interopRequireDefault(e("DnuM")),i,o=_interopRequireDefault(e("9zHD"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}module.exports=function(e){var t=(0,u.default)("/api/domains.v1",{type:"rest"});if(void 0!==e.getStore(o.default).domains)return(0,r.default)();return(0,r.default)(t.get("?fields=id,name")).then(function(t){e.dispatch("LOAD_DOMAINS",t.elements)})}},uGSY:function(module,exports,e){"use strict";var t,r=_interopRequireWildcard(e("sbe7")),n=e("VYij"),u,i=_interopRequireDefault(e("sQ/U")),o,a=_interopRequireDefault(e("jsrg")),s,d=_interopRequireDefault(e("kwmr")),l,c=_interopRequireDefault(e("+LJP")),f,p=_interopRequireDefault(e("NLLZ")),D,S=_interopRequireDefault(e("dAof")),v,g=_interopRequireDefault(e("HBWY")),h=e("vpeK"),m=e("YMRy"),R=e("7DGw"),I=e("Re7p"),w=e("Shko"),E=e("+M5F"),y=e("Nher"),L=e("V85f"),q=e("pM0B"),C=e("5Ujo"),A=e("JSqB"),P,O=_interopRequireDefault(e("nY8d")),M,T=_interopRequireDefault(e("9zHD")),x,N=_interopRequireDefault(e("4qA7")),b,k=_interopRequireDefault(e("paF6")),H,U=_interopRequireDefault(e("QAZ1")),G,Q=_interopRequireDefault(e("Lfu5")),B,F=_interopRequireDefault(e("BMna")),V,W=_interopRequireDefault(e("x+tN")),Y,j=_interopRequireDefault(e("3/Qw"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}var K=function DataFetcherBody(e){var t=e.children;if(!t)return null;return r.cloneElement(t,{})},z=(0,n.compose)((0,p.default)(function(){return!1}),(0,c.default)(function(e,t){return{courseSlug:e.params.courseSlug}}),(0,d.default)([N.default,T.default,Q.default,O.default,k.default,F.default,U.default],function(e,t,r,n,u,i,o){return{s12n:n.getS12n(),course:t.getMetadata(),courseId:t.getCourseId(),isEnrolled:r.isEnrolled(),sessionId:e.getSessionId(),isEnrolledInSession:e.isEnrolled(),s12nStoreHasLoaded:n.hasLoaded(),courseStoreHasLoaded:t.hasLoaded(),sessionStoreHasLoaded:e.hasLoaded(),verificationStoreHasLoaded:u.hasLoaded(),courseMembershipStoreHasLoaded:r.hasLoaded(),computedModelStoreHasLoaded:o.hasLoaded(),courseIdentifiersHaveLoaded:t.haveCourseIdentifiersLoaded(),courseViewGradeStoreHasLoaded:i.hasLoaded()}}),(0,S.default)(function(e,t){var r=t.courseSlug;e.executeAction(g.default,r)}),(0,a.default)(function(e){var t;return e.courseIdentifiersHaveLoaded}),(0,a.default)(function(e){var t;return!!e.courseId},r.createElement(W.default,null)),(0,S.default)(function(e,t){var r=t.courseId;e.executeAction(w.loadMembership,r)}),(0,a.default)(function(e){var t;return e.courseMembershipStoreHasLoaded}),(0,a.default)(function(e){var t=e.isEnrolled;return i.default.isSuperuser()||t},r.createElement(W.default,null)),(0,S.default)(function(e,t){var r=t.courseSlug,n=t.courseId;e.executeAction(R.loadComputedModels,{courseSlug:r,courseId:n})}),(0,a.default)(function(e){var t;return e.computedModelStoreHasLoaded}),(0,S.default)(function(e,t){var r=t.courseId,n=t.courseSlug,u=i.default.get().id,o=i.default.isAuthenticatedUser();e.executeAction(m.getCurrentSession,{courseSlug:n}),e.executeAction(y.loadCourseViewGrade,{courseId:r}),e.executeAction(q.loadUserGroupsForCourse,{courseId:r,userId:u}),e.executeAction(A.loadHonorsUserPreferences,{authenticated:o}),e.executeAction(I.loadCertificateData,{courseId:r,userId:u}),e.executeAction(h.getProgress,{authenticated:o,courseId:r,userId:u})}),(0,a.default)(function(e){var t=e.s12nStoreHasLoaded,r=e.courseStoreHasLoaded,n=e.sessionStoreHasLoaded,u=e.courseViewGradeStoreHasLoaded;return t&&r&&n&&u}),(0,S.default)(function(e,t){var r=t.courseId,n=t.course,u=t.s12n,o=t.sessionId,a=i.default.get().id,s=i.default.isAuthenticatedUser(),d=u&&u.getId(),l=n.isVerificationEnabled(),c=e.getStore("CourseStore");e.executeAction(E.loadCourseDeadlines,{userId:a}),c.isCumulativeGradePolicy()&&e.executeAction(C.loadCoursePresentGrade,{userId:a,courseId:r}),e.executeAction(L.loadVerificationDisplay,{authenticated:s,userId:a,courseId:r,isCourseVerificationEnabled:l,s12nId:d}),e.executeAction(q.loadUserSessionGroupForCourse,{courseId:r,userId:a,sessionId:o})}),(0,a.default)(function(e){var t;return e.verificationStoreHasLoaded}))(K),J=function LegacyDataFetch(e){var t=e.children,n=e.isLegacyDataLoaded;return r.createElement("div",{className:"rc-LegacyDataFetch"},r.createElement(z,null,t),!n&&r.createElement(j.default,{iconSize:512}))};module.exports=(0,n.compose)((0,d.default)([k.default],function(e){return{isLegacyDataLoaded:e.hasLoaded()}}))(J)},wDa7:function(module,exports,e){"use strict";var t=e("wiyT"),r=e("CWYE"),n=e("BDKN"),u=e("sQ/U"),i=r("/api/onDemandDeadlineSettings.v1",{type:"rest"}),o={getStartTime:function getStartTime(e){var r=(new n).addQueryParam("q","byUserAndCourse").addQueryParam("userId",u.get().id).addQueryParam("courseId",e).toString();return t(i.get(r)).fail(function(e){console.error(e)})},sendStartTime:function sendStartTime(e,r){var n={data:{userId:u.get().id,courseId:r,start:Date.now(),isEnabled:e}};return t(i.post("",n))},disableDeadlines:function disableDeadlines(e){return o.sendStartTime(!1,e)},getResetPreview:function getResetPreview(e,r){var o=(new n).addQueryParam("q","extendPreview").addQueryParam("userId",u.get().id).addQueryParam("courseId",e).addQueryParam("extendedAt",Date.now()).toString();t(i.get(o)).then(r).fail(function(e){console.error(e)}).done()},resetDeadlines:function resetDeadlines(e){var r={data:{userId:u.get().id,courseId:e,extendedAt:Date.now()}},o=(new n).addQueryParam("action","extend").toString();return t(i.post(o,r))}};module.exports=o},yF8l:function(module,exports,e){"use strict";var t,r=_interopRequireDefault(e("VYij")),n,u=_interopRequireDefault(e("ywP/")),i,o=_interopRequireDefault(e("f5V2")),a,s=_interopRequireDefault(e("9CUK")),d=e("Toj+");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}module.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,u.default)(e).then(function(t){if(t.linked&&t.linked["onDemandSessions.v1"]&&t.linked["onDemandSessionMemberships.v1"]){var n=(0,r.default)(t.linked["onDemandSessions.v1"]).groupBy("courseId"),u=(0,r.default)(t.linked["onDemandSessionMemberships.v1"]).groupBy("sessionId"),i=Object.keys(u);t.elements.forEach(function(e){var t=n[e.courseId]||[];if(t.length){var r=t.filter(function(e){return i.indexOf(e.id)>=0});if(r.length){var o=new d.Sessions(r).getLastSession();e.onDemandSessionId=o.id,e.onDemandSessionMemberships=r.map(function(e){return u[e.id]})}}})}if(t.linked&&t.linked["v1Details.v1"]&&(t.linked["courses.v1"]=(0,r.default)(t.linked["courses.v1"]).map(function(e){if("v1.session"===e.courseType||"v1.capstone"===e.courseType){e.v1Details=e.id;var n=(0,r.default)(t.linked["v1Sessions.v1"]).reduce(function(t,r){return r.courseId===e.id&&t.push(r.id.toString()),t},[]);e.v1Sessions=n}return e})),t.linked&&t.linked["v2Details.v1"]&&(t.linked["courses.v1"]=(0,r.default)(t.linked["courses.v1"]).map(function(e){return"v2.ondemand"===e.courseType&&(e.v2Details=(0,r.default)(t.linked["v2Details.v1"]).findWhere({id:e.id})),e})),t.linked&&t.linked["vcMemberships.v1"]){var a=(0,r.default)(t.linked["vcMemberships.v1"]).pluck("id");t.elements=(0,r.default)(t.elements).map(function(e){return(0,r.default)(a).contains(e.id)&&(e.vcMembershipId=e.id),e})}if(t.linked&&t.linked["courses.v1"]){var l=(0,r.default)(t.linked["courses.v1"]).pluck("id");t.elements=(0,r.default)(t.elements).chain().filter(function(e){return(0,r.default)(l).contains(e.courseId)}).compact().value()}if(t.linked&&t.linked["signatureTrackProfiles.v1"]&&(0,r.default)(t.elements).each(function(e){e.signatureTrackProfile=e.userId}),e.rawData)return t;if(e.withPaging)return{elements:(0,o.default)(s.default.prototype.resourceName,t),paging:t.paging};return(0,o.default)(s.default.prototype.resourceName,t)}).fail(function(t){if(e.rawData)return null;return new s.default})}},"ywP/":function(module,exports,e){var t=e("8kE/"),r=e("PVyl");module.exports=t(r)},zG0K:function(module,exports,e){"use strict";var t,r=_interopRequireDefault(e("wiyT")),n,u=_interopRequireDefault(e("sQ/U")),i,o=_interopRequireDefault(e("nY8d")),a=e("8wpN"),s,d=_interopRequireDefault(e("qujA"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}module.exports=function(e,t){if(e.getStore(o.default).hasLoaded())return(0,r.default)();var n=void 0;return(0,a.rawPrimaryS12ns)(t,u.default.get().id).then(function(e){var t=(n=e).elements[0];return t&&u.default.isAuthenticatedUser()?(0,d.default)(t.id,!0):(0,r.default)()}).then(function(t){return e.dispatch("LOAD_S12N",{rawS12ns:n,rawOwnership:t}),{rawS12ns:n,rawOwnership:t}})}}}]);
//# sourceMappingURL=55.8d9d727095f0316dcdbe.js.map